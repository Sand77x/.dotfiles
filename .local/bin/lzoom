#!/bin/bash

# launch zoom based on list
lzoom() {
    local BROWSER=brave-browser
    local ZOOM_LINKS=~/odoc/lzoom.md
    local inp="${1,,}"

    if [ -z $inp ]; then
        odoc s lzoom
        return
    fi

    while read -r line; do
        local long=$(echo $line | cut -f1 -d' ')
        local short=$(echo $line | cut -f2 -d' ')
        local link=$(echo $line | cut -f3 -d' ')

        long="${long,,}" # lowercase the strings
        short="${short,,}"

        if [ "$1" = "$long" ] || [ "$1" = "$short" ]; then
            $BROWSER $link > /dev/null 2>&1 &
            echo "Opening ($long) $link in browser..."
            return
        fi
    done < $ZOOM_LINKS

    echo "No zoom link for that keyword found."
}

lzoom "$@"
